<div
  class="modal fade"
  id="taskModal"
  tabindex="-1"
  aria-labelledby="taskModalLabel"
  aria-hidden="true"
>
  <div style="margin-top: 0px;" class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="taskModalLabel">    {{ mode === 'add' ? 'New Task' : mode === 'edit' ? 'Edit Task' : 'Clone Task' }}
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <form [formGroup]="taskForm" (ngSubmit)="onSubmit()" class="modal-body">
        <div class="row g-3">
          <!-- Task Number -->
          <div class="col-md-4">
            <label for="taskNumber" class="form-label">Task Number*</label>
            <input
              type="text"
              id="taskNumber"
              class="form-control"
              formControlName="id"
              readonly
            />
          </div>

          <!-- Title -->
          <div class="col-md-4">
            <label for="title" class="form-label">Title*</label>
            <input
              type="text"
              id="title"
              class="form-control"
              formControlName="title"
              required
            />
            <div *ngIf="taskForm.get('title')?.touched && taskForm.get('title')?.invalid" class="text-danger">
              Title is required.
            </div>
          </div>

          <!-- Due Date -->
          <div class="col-md-4">
            <label for="dueDate" class="form-label">Due Date</label>
            <input
              type="date"
              id="dueDate"
              class="form-control"
              formControlName="dueDate"
            />
          </div>
        </div>

        <div class="row g-3 mt-3">
          <!-- Assign To -->
          <div class="col-md-6">
            <label for="assignTo" class="form-label">Assign To</label>
            <select id="assignTo" class="form-select" formControlName="assignedTo">
              <option value="Unassigned">Unassigned</option>
              <option *ngFor="let user of tasks_assinies" [value]="user">{{user}}</option>
            </select>
          </div>

          <!-- Priority -->
          <div class="col-md-6">
            <label for="priority" class="form-label">Priority</label>
            <select id="priority" class="form-select" formControlName="priority">
              <!-- <option value="Very Low">Very Low</option> -->
              
              <option  value="Low">Low</option>
              <!-- <option value="Medium">Medium</option> -->
              <option value="High">High</option>
            </select>
          </div>
        </div>

        <!-- Description -->
        <div class="mt-3">
          <label for="description" class="form-label">Description</label>
          <textarea
            id="description"
            class="form-control"
            formControlName="description"
            rows="3"
            placeholder="Max. 10000 characters"
          ></textarea>
        </div>
      </form>
      <div class="modal-footer">
        <button
        style="background: #22b378;opacity: 1;"
          type="submit"
          class="btn btn-success"
          [disabled]="taskForm.invalid"
          (click)="onSubmit()"
          data-bs-dismiss="modal"
        >
          Save
        </button>
        <button type="button" class="btn btn-secondary cancel-btn" data-bs-dismiss="modal">
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>
